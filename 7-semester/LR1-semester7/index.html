<!DOCTYPE html>
<html>
<head>
    <title>Cities</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.3.0/mustache.min.js" crossorigin="anonymous"></script>
</head>
<body>

<input type="text" name="cityName" id="cityName">
<button id="btn">Find</button>

<script id="mp_template" type="text/template">
    <table>
        <thead>
        <tr>
            <th>City</th>
            <th>Temp</th>
            <th>Humidity</th>
            <th>Wind Speed</th>
            <th>Pressure</th>
        </tr>
        </thead>

        <tbody>
        <tr>
            <td>{{name}}</td>
            <td>{{main.temp}}</td>
            <td>{{main.humidity}}</td>
            <td>{{wind.speed}}</td>
            <td>{{main.pressure}}</td>
        </tr>
        </tbody>
    </table>
</script>

<div id="mypanel"></div>

<script>
    let city = 'London';
</script>


<script>
    $(function find () {

        $("#btn").on('click', function () {

            city = document.getElementById('cityName').value;

            try{
                $.getJSON('https://api.openweathermap.org/data/2.5/weather?appid=f816129477a56b6c0840aa37d1e18cdc&?', {q: city}, function (cities) {

                    let template = $("#mp_template").html();

                    let text = Mustache.render(template, cities);

                    $("#mypanel").html(text);
                });
                } catch (e) {
                alert('error');
            }
        });
    });
</script>
</body>
</html>